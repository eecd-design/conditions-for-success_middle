---

import IconSearch from "./icons/IconSearch_24.astro";
import IconLight from "./icons/IconLight_24.astro";
import IconDark from "./icons/IconDark_24.astro";

const { url } = Astro;
let path = url.pathname;

---

<header>

	<nav class="global">
		<ul class="menu">
            <li class="home"><a href="/" data-font-type="serif">NB Middle School Conditions for Success</a></li>
            <li><a class={path.includes('/big-seven') ? 'active' : ''} href="/big-seven">The Big Seven</a></li>
            <li><a class={path.includes('/resources') ? 'active' : ''} href="/resources">Resources</a></li>
        </ul>

        <!-- <button class="js-mobile-menu mobile-menu-toggle" type="button" aria-label="Show Menu" hidden><IconMenu /></button>

        <ul class="mobile-menu" hidden>
            <li><a href="/guidelines"><span>Guidelines</span><IconArrow /></a></li>
            <li><a href="/resources"><span>General Resources</span><IconArrow /></a></li>
            <li><a href="/educators"><span>Educator Resources and PL</span><IconArrow /></a></li>
        </ul>  -->

	</nav>

	<div class="global-controls">
		<button class="search-toggle" type="button">
			<IconSearch />
			<span>Search</span>
		</button>
        <button class="theme-toggle" type="button" aria-label="Toggle Theme">
			<IconLight />
			<IconDark />
        </button>
	</div>

</header>

<style is:global>

	header {
		display: flex;
		flex-flow: row nowrap;
		align-items: center;
		gap: 0.5rem;
		height: 7rem;
		padding: 0 3rem;
		background: 
			url('/patterns/pattern.svg') repeat,
			var(--colour-fill-neutral-bold-muted);
		background-blend-mode: screen;
	}

	header nav.global {
		flex-grow: 1;
	}

	header nav.global .menu {
		display: flex;
		flex-flow: row nowrap;
		align-items: center;
		gap: 0.5rem;
		margin: 0;
		padding: 0;
		list-style-type: none;
	}

	header nav.global .home {
		flex-grow: 1;
	}

	header nav.global .menu a,
	header .global-controls .search-toggle {
		display: flex;
		align-items: center;
		height: 3rem;
		padding: 0 1rem;
		border-radius: var(--border-radius-normal);
		text-decoration: none;
		font-size: 1.25rem;
		color: var(--colour-ui-reverse);
	}

	header nav.global .menu a:is(:hover, :focus-visible),
	header .global-controls .search-toggle:is(:hover, :focus-visible) {
		outline: 2px solid var(--colour-border-neutral-subtle-muted);
		outline-offset: -1px;
	}

	header nav.global .menu a.active {
		background-color: var(--colour-fill-neutral-subtle-muted);
		color: var(--colour-ui-neutral);
		pointer-events: none;
	}

	header .global-controls {
		display: flex;
		flex-flow: row nowrap;
		align-items: center;
		gap: 1rem;
	}

	header .global-controls .search-toggle {
		display: flex;
		flex-flow: row nowrap;
		align-items: center;
		gap: 0.5rem;
	}

	header .global-controls .icon {
		width: 1.5rem;
	}

	header .global-controls .icon path {
		fill: var(--colour-ui-reverse);
	}


</style>