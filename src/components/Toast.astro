---
const { id, message, colour, type } = Astro.props;
---

<div id={id} class="toast-container" role="status" aria-live={type === 'success' ? 'polite' : 'assertive'}>
	<div class="toast" data-theme={colour} data-vibrancy="vivid" data-type={type}>
		<slot name="icon" />
		<span>{message}</span>
	</div>
</div>

<style>
	.toast-container {
		display: flex;
		flex-flow: column;
		align-items: center;
		position: fixed;
		bottom: 0;
		left: 0;
		right: 0;
		z-index: 1001;
		padding: 0 1rem 1rem;
		opacity: 0;
		transition:
			opacity var(--transition-linear-fast),
			bottom var(--transition-ease-fast);
	}

	.toast-container[open]{
		opacity: 1;
		bottom: 1rem;
		transition:
			opacity var(--transition-linear-medium),
			bottom var(--transition-ease-slow);
	}

	.toast {
		--icon-size: 0.75rem;
		--icon-colour: var(--colour-ui-accent, var(--colour-ui-neutral));
		display: flex;
		flex-flow: row nowrap;
		align-items: center;
		gap: 0.75rem;
		padding: 0 1rem;
		height: 3rem;
		background-color: var(--colour-fill-accent-subtle, var(--colour-fill-neutral-subtle));
		/* border: 1px solid var(--colour-border-accent-bold); */
		border-radius: var(--border-radius-normal);
		font-size: 0.875rem;
		/* box-shadow: 0 0 3rem 1rem rgba(255, 255, 255, 0.9); */
		box-shadow: 0 0.5rem 1rem 0 rgba(0, 0, 0, 0.25);
	}

	.toast[data-type="failure"] {
		--icon-size: 1rem;
	}

</style>

<script></script>
