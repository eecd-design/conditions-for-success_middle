/*
** UNIVERSAL BOX-SIZING
------------------------------*/

*,
*::before,
*::after {
	box-sizing: border-box;
}




/*
** SYSTEM VARIABLES
------------------------------*/

:root {

	/*
    // COLOURS
    */

	--system-colour-white: 0 0% 100%;

	--system-colour-vividDarkGreen: 173 100% 19%;
	--system-colour-mutedDimGreen: 173 27% 45%;
	--system-colour-mutedModerateGreen: 173 27% 75%;
	--system-colour-mutedLightGreen: 173 27% 90%;
	--system-colour-mutedBrightGreen: 173 27% 97%;

	--system-colour-vividDarkBlue: 204 100% 27%;
	--system-colour-mutedDimBlue: 204 40% 50%;
	--system-colour-mutedModerateBlue: 204 40% 75%;
	--system-colour-mutedLightBlue: 204 40% 90%;

	--system-colour-vividDarkPurple: 255 28% 30%;
	--system-colour-mutedDimPurple: 255 12% 50%;
	--system-colour-mutedModeratePurple: 255 12% 75%;
	--system-colour-mutedLightPurple: 255 12% 90%;

	--system-colour-vividDarkGray: 215 15% 15%;
	--system-colour-vividDimGray: 215 15% 25%;
	--system-colour-mutedDimGray: 215 10% 35%;
	--system-colour-mutedModerateGray: 215 8% 45%;
	--system-colour-mutedLightGray: 215 8% 75%;
	--system-colour-mutedBrightGray: 215 8% 97%;

	/* red */
	--red-muted-50: #faf1f1;
	--red-muted-75: #eee1e1;
	--red-muted-100: #e3cdcd;
	--red-muted-200: #e0a9ab;
	--red-muted-300: #c18486;
	--red-muted-400: #a35056;
	--red-muted-500: #8b3b42;
	--red-muted-600: #79242f;
	--red-muted-700: #79242f;
	--red-muted-800: #79242f;
	--red-vivid-75: #fedcdc;
	--red-vivid-100: #fcbdbf;
	--red-vivid-400: #c54d5a;

	/* orange */
	--orange-muted-50: #faf2ee;
	--orange-muted-75: #eee2dc;
	--orange-muted-100: #e2cec5;
	--orange-muted-200: #d9ad99;
	--orange-muted-300: #bd8971;
	--orange-muted-400: #9f5531;
	--orange-muted-500: #88401b;
	--orange-muted-600: #742d00;
	--orange-muted-700: #732d00;
	--orange-muted-800: #732d00;
	--orange-vivid-75: #fcded1;
	--orange-vivid-100: #ffc0a3;
	--orange-vivid-400: #bd5a25;

	/* yellow */
	--yellow-muted-50: #f6f3ec;
	--yellow-muted-75: #e9e4da;
	--yellow-muted-100: #dad2c1;
	--yellow-muted-200: #c8b48b;
	--yellow-muted-300: #aa9260;
	--yellow-muted-400: #84630c;
	--yellow-muted-500: #6c5005;
	--yellow-muted-600: #574005;
	--yellow-muted-700: #574005;
	--yellow-muted-800: #574005;
	--yellow-vivid-75: #f8e3b7;
	--yellow-vivid-100: #eccc8a;
	--yellow-vivid-400: #a07803;

	/* green */
	--green-muted-50: #f0f5ef;
	--green-muted-75: #e1e7dd;
	--green-muted-100: #cad3c2;
	--green-muted-200: #a4bc95;
	--green-muted-300: #809a73;
	--green-muted-400: #4a7332;
	--green-muted-500: #385d29;
	--green-muted-600: #254b14;
	--green-muted-700: #254b14;
	--green-muted-800: #254b14;
	--green-vivid-75: #d7edd0;
	--green-vivid-100: #b6dea7;
	--green-vivid-400: #4d8238;

	/* teal */
	--teal-muted-50: #ecf5f8;
	--teal-muted-75: #dbe7ea;
	--teal-muted-100: #c2d5da;
	--teal-muted-200: #91bdc9;
	--teal-muted-300: #629ba9;
	--teal-muted-400: #087286;
	--teal-muted-500: #0c5e6d;
	--teal-muted-600: #034956;
	--teal-muted-700: #034956;
	--teal-muted-800: #034956;
	--teal-vivid-75: #c8edf6;
	--teal-vivid-100: #9fdceb;
	--teal-vivid-400: #128196;

	/* blue */
	--blue-muted-50: #f0f4fa;
	--blue-muted-75: #e2e4ed;
	--blue-muted-100: #d0d2e0;
	--blue-muted-200: #aeb5d0;
	--blue-muted-300: #8692bc;
	--blue-muted-400: #4668a6;
	--blue-muted-500: #36538d;
	--blue-muted-600: #264272;
	--blue-muted-700: #264272;
	--blue-muted-800: #264272;
	--blue-vivid-75: #d9e6fd;
	--blue-vivid-100: #b6d1fe;
	--blue-vivid-400: #4875c2;

	/* purple */
	--purple-muted-50: #f4f2fa;
	--purple-muted-75: #e4e3ec;
	--purple-muted-100: #d3d1df;
	--purple-muted-200: #b5b2c7;
	--purple-muted-300: #988eb7;
	--purple-muted-400: #6d638c;
	--purple-muted-500: #594d7b;
	--purple-muted-600: #473c68;
	--purple-muted-700: #473c68;
	--purple-muted-800: #473c68;
	--purple-vivid-75: #e6e1fd;
	--purple-vivid-100: #d2c7fd;
	--purple-vivid-400: #7e6ab8;

	/* gray */
	--gray-muted-50: #eff4fa;
	--gray-muted-75: #e0e5ec;
	--gray-muted-100: #ced3d9;
	--gray-muted-200: #b0b7c0;
	--gray-muted-300: #8e949d;
	--gray-muted-400: #636b76;
	--gray-muted-500: #4c5663;
	--gray-muted-600: #3b4450;
	--gray-muted-700: #2f3a49;
	--gray-muted-800: #162130;
	--gray-vivid-75: #dce6f5;
	--gray-vivid-100: #c3d1e6;
	--gray-vivid-400: #667890;




	--colour-background: white;

	--colour-ui-neutral: var(--gray-muted-800);
	--colour-ui-neutral-subtle: var(--gray-muted-500);
	--colour-ui-reverse: white;
	--colour-ui-reverse-subtle: var(--gray-muted-100);
	--colour-ui-accent: var(--red-muted-500);
	--colour-ui-accent-subtle: var(--red-muted-400);
	--colour-ui-accent-bold: var(--red-muted-600);
	--colour-ui-link: var(--colour-ui-neutral);
	--colour-ui-link-hover: var(--colour-ui-neutral);
	--colour-ui-link-underline: var(--colour-ui-neutral-subtle);
	--colour-ui-error: var(--red-vivid-400);

	--colour-highlight: #fbf9c9;
	--colour-fill-highlight: var(--color-highlight);
	--colour-on-highlight: inherit;

	--colour-fill-neutral-faint-muted: var(--gray-muted-50);
	--colour-fill-neutral-subtle-muted: var(--gray-muted-75);
	--colour-fill-neutral-subtle-muted-highlight: var(--gray-muted-100);
	--colour-fill-neutral-mid-muted: var(--gray-muted-500);
	--colour-fill-neutral-bold-muted: var(--gray-muted-700);
	/* --colour-fill-accent-subtle-vivid: var(--gray-vivid-75);
	--colour-fill-accent-subtle-vivid-highlight: var(--gray-vivid-100);
	--colour-fill-accent-bold-vivid: var(--gray-vivid-400);
	--colour-fill-accent-subtle-muted: var(--gray-muted-75);
	--colour-fill-accent-subtle-muted-highlight: var(--gray-muted-100);
	--colour-fill-accent-bold-muted: var(--gray-muted-500); */

	--colour-border-neutral-subtle-muted: var(--gray-muted-200);
	--colour-border-neutral-mid-muted: var(--gray-muted-300);
	--colour-border-neutral-bold-muted: var(--gray-muted-500);
	/* --colour-border-accent-subtle-vivid: var(--gray-vivid-100);
	--colour-border-accent-bold-vivid: var(--gray-vivid-400);
	--colour-border-accent-subtle-muted: var(--gray-muted-200);
	--colour-border-accent-mid-muted: var(--gray-muted-400);
	--colour-border-accent-bold-muted: var(--gray-muted-500); */

	--border-radius-small: 0.25rem;
	--border-radius-normal: 0.5rem;

	--transition-linear-fast: 75ms linear;
	--transition-linear-medium: 150ms linear;
	--transition-ease-fast: 100ms ease;
	--transition-ease-medium: 200ms ease;
	--transition-ease-slow: 300ms ease;

}

[data-theme="red"] {

	--colour-ui-accent: var(--red-muted-500);
	--colour-ui-accent-subtle: var(--red-muted-400);
	--colour-ui-accent-bold: var(--red-muted-600);

	--colour-highlight: #fbf9c9;
	--colour-fill-highlight: var(--color-highlight);
	--colour-on-highlight: inherit;

	--colour-fill-accent-subtle-vivid: var(--red-vivid-75);
	--colour-fill-accent-subtle-vivid-highlight: var(--red-vivid-100);
	--colour-fill-accent-bold-vivid: var(--red-vivid-400);
	--colour-fill-accent-subtle-muted: var(--red-muted-75);
	--colour-fill-accent-subtle-muted-highlight: var(--red-muted-100);
	--colour-fill-accent-bold-muted: var(--red-muted-500);

	--colour-border-accent-subtle-vivid: var(--red-vivid-100);
	--colour-border-accent-bold-vivid: var(--red-vivid-400);
	--colour-border-accent-subtle-muted: var(--red-muted-200);
	--colour-border-accent-mid-muted: var(--red-muted-300);
	--colour-border-accent-bold-muted: var(--red-muted-500);

}

[data-theme="yellow"] {

	--colour-ui-accent: var(--yellow-muted-500);
	--colour-ui-accent-subtle: var(--yellow-muted-400);
	--colour-ui-accent-bold: var(--yellow-muted-600);

	--colour-highlight: #fbf9c9;
	--colour-fill-highlight: var(--color-highlight);
	--colour-on-highlight: inherit;

	--colour-fill-accent-subtle-vivid: var(--yellow-vivid-75);
	--colour-fill-accent-subtle-vivid-highlight: var(--yellow-vivid-100);
	--colour-fill-accent-bold-vivid: var(--yellow-vivid-400);
	--colour-fill-accent-subtle-muted: var(--yellow-muted-75);
	--colour-fill-accent-subtle-muted-highlight: var(--yellow-muted-100);
	--colour-fill-accent-bold-muted: var(--yellow-muted-500);

	--colour-border-accent-subtle-vivid: var(--yellow-vivid-100);
	--colour-border-accent-bold-vivid: var(--yellow-vivid-400);
	--colour-border-accent-subtle-muted: var(--yellow-muted-200);
	--colour-border-accent-mid-muted: var(--yellow-muted-300);
	--colour-border-accent-bold-muted: var(--yellow-muted-500);

}

[data-theme="green"] {

	--colour-ui-accent: var(--green-muted-500);
	--colour-ui-accent-subtle: var(--green-muted-400);
	--colour-ui-accent-bold: var(--green-muted-600);

	--colour-highlight: #fbf9c9;
	--colour-fill-highlight: var(--color-highlight);
	--colour-on-highlight: inherit;

	--colour-fill-accent-subtle-vivid: var(--green-vivid-75);
	--colour-fill-accent-subtle-vivid-highlight: var(--green-vivid-100);
	--colour-fill-accent-bold-vivid: var(--green-vivid-400);
	--colour-fill-accent-subtle-muted: var(--green-muted-75);
	--colour-fill-accent-subtle-muted-highlight: var(--green-muted-100);
	--colour-fill-accent-bold-muted: var(--green-muted-500);

	--colour-border-accent-subtle-vivid: var(--green-vivid-100);
	--colour-border-accent-bold-vivid: var(--green-vivid-400);
	--colour-border-accent-subtle-muted: var(--green-muted-200);
	--colour-border-accent-mid-muted: var(--green-muted-300);
	--colour-border-accent-bold-muted: var(--green-muted-500);

}

[data-theme="blue"] {

	--colour-ui-accent: var(--blue-muted-500);
	--colour-ui-accent-subtle: var(--blue-muted-400);
	--colour-ui-accent-bold: var(--blue-muted-600);

	--colour-highlight: #fbf9c9;
	--colour-fill-highlight: var(--color-highlight);
	--colour-on-highlight: inherit;

	--colour-fill-accent-subtle-vivid: var(--blue-vivid-75);
	--colour-fill-accent-subtle-vivid-highlight: var(--blue-vivid-100);
	--colour-fill-accent-bold-vivid: var(--blue-vivid-400);
	--colour-fill-accent-subtle-muted: var(--blue-muted-75);
	--colour-fill-accent-subtle-muted-highlight: var(--blue-muted-100);
	--colour-fill-accent-bold-muted: var(--blue-muted-500);

	--colour-border-accent-subtle-vivid: var(--blue-vivid-100);
	--colour-border-accent-bold-vivid: var(--blue-vivid-400);
	--colour-border-accent-subtle-muted: var(--blue-muted-200);
	--colour-border-accent-mid-muted: var(--blue-muted-300);
	--colour-border-accent-bold-muted: var(--blue-muted-500);

}




/*
** THEMES
------------------------------*/

/*
// LIGHT THEME (DEFAULT / FORCED)
*/

:root:not([data-theme="dark"]),
:root[data-theme="light"] {

	color-scheme: light only;

}


/*
// DARK THEME (AUTO)
*/

/* @media (prefers-color-scheme: dark) {

    :root:not([data-theme="light"]){

        color-scheme: dark only;

	}

} */


/*
// DARK THEME (FORCED)
*/

:root[data-theme="dark"] {

	color-scheme: dark only;

}




/*
** TYPOGRAPHY
------------------------------*/

html {
	font-family: "Public Sans", sans-serif;
	font-size: 16px;
	font-weight: 400;
	color: var(--colour-ui-neutral);
}

[data-font-type="serif"] {
	font-family: aesthet-nova, serif;
}

[data-font-type="sans-serif"] {
	font-family: "Public Sans", sans-serif;
}

h1 {
	font-family: aesthet-nova, serif;
	font-size: 3rem;
	font-weight: 700;
	line-height: 1;
	margin: 0 0 2rem;
}

h2,
[data-style-as="h2"] {
	font-family: aesthet-nova, serif;
	font-size: 2rem;
	font-weight: 700;
	line-height: 1.2;
	margin: 1.5rem 0 1.5rem;
}

h3,
[data-style-as="h3"] {
	font-family: "Public Sans", sans-serif;
	font-size: 1.5rem;
	font-weight: 700;
	line-height: 1.2;
	margin: 1rem 0 1.5rem;
}

h4 {
	font-size: 1.25rem;
	font-weight: 700;
	line-height: 1.2;
}

p {
	margin: 0 0 1rem;
}

:where(p, li, a) {
	font-size: 1.25rem;
	font-weight: 500;
	line-height: 1.6;
}

:is(ul, ol)> :first-child {
	margin-top: 0 !important;
}

:is(ul, ol)> :last-child {
	margin-bottom: 0 !important;
}


@container body (max-width: 963px) {}


@container body (max-width: 529px) {}




/*
** LINKS & BUTTONS
------------------------------*/

:is(button, a) * {
	pointer-events: none;
}

.button-group {
	display: flex;
	flex-flow: row nowrap;
	align-items: center;
	gap: var(--group-gap, 1rem);
	height: 100%;
}

.button-group>* {
	flex-grow: 0;
}

button[type="button"],
[data-style-as="button"] {
	display: inline-flex;
	align-items: center;
	justify-content: center;
	cursor: pointer;
	user-select: none;
	font-size: 1rem;
	font-weight: 600;
	line-height: 1;
	color: var(--button-ui-colour, var(--colour-ui-neutral));
	height: 2.25rem;
	padding: 0 0.5rem;
	background-color: var(--button-background-colour, var(--colour-fill-neutral-subtle-muted));
	border-radius: var(--button-border-radius, var(--border-radius-small));
	border: none;
	outline: 2px solid var(--button-outline-colour, transparent);
	outline-offset: -1px;
	text-decoration: none;
	user-select: none;
	-webkit-tap-highlight-color: transparent;
	/* Removes blue highlight on mobile */
	transition:
		background-color var(--transition-linear-fast),
		color var(--transition-linear-fast),
		outline-color var(--transition-linear-fast),
		border-color var(--transition-linear-fast);
}

:is(button[type="button"], [data-style-as="button"]):is(:hover, :focus-visible) {
	--button-background-colour: var(--button-background-colour-hover, var(--colour-fill-neutral-mid-muted));
	--button-ui-colour: var(--button-ui-colour-hover, var(--colour-ui-reverse));
	--button-outline-colour: var(--button-outline-colour-hover, transparent);
}

:is(button[type="button"], [data-style-as="button"]):disabled {
	opacity: 0.3;
	pointer-events: none;
}


button[data-size="small"] {
	height: 1.25rem;
	padding: 0 0.375rem;
	font-size: 0.875rem;
}

button[data-size="large"] {
	--button-border-radius: var(--border-radius-normal);
	height: 3rem;
	width: fit-content;
	min-width: 8rem;
	max-width: 100%;
	padding: 0 1.5rem;
	font-size: 1rem;
}

button[data-style="bold"] {
	--button-background-colour: var(--colour-fill-neutral-mid-muted);
	--button-background-colour-hover: transparent;
	--button-ui-colour: var(--colour-ui-reverse);
	--button-ui-colour-hover: var(--colour-ui-neutral);
	--button-outline-colour-hover: var(--colour-border-neutral-bold-muted);
}

button[data-style="outline"] {
	--button-background-colour: transparent;
	--button-background-colour-hover: transparent;
	--button-ui-colour: var(--colour-ui-neutral-subtle);
	--button-ui-colour-hover: var(--colour-ui-neutral);
	--button-outline-colour: var(--colour-border-neutral-subtle-muted);
	--button-outline-colour-hover: var(--colour-border-neutral-bold-muted);
}

.link-list {
	display: flex;
	flex-flow: column;
	gap: 1rem;
	margin: 1.5rem 0;
	padding: 0;
	list-style-type: none;
}

.link-list li {
	line-height: 1.2;
}

a {
	color: var(--colour-ui-link);
	font-weight: 600;
	text-decoration-color: var(--colour-ui-link-underline);
	-webkit-tap-highlight-color: transparent;
	/* Removes blue highlight on mobile */
	transition:
		background-color var(--transition-linear-fast),
		text-decoration-color var(--transition-linear-fast),
		color var(--transition-linear-fast);
}

a:hover {
	color: var(--colour-ui-link-hover);
	text-decoration-color: transparent;
}

a:has(.icon.arrow) {
	--icon-colour: var(--colour-ui-neutral-subtle);
	--icon-size: 1rem;
	display: flex;
	flex-flow: row nowrap;
	align-items: center;
}

a:has(.icon.arrow) .icon-container {
	width: 0;
	flex-shrink: 0;
	transition: width var(--transition-ease-slow);
}

a:has(.icon.arrow):is(:hover, :focus-visible) .icon-container {
	width: 1.75rem;
}

a:has(.icon.arrow) .icon {
	opacity: 0;
	translate: -0.75rem;
	transition: opacity var(--transition-linear-fast), translate var(--transition-ease-fast);
}

a:has(.icon.arrow):is(:hover, :focus-visible) .icon {
	opacity: 1;
	translate: 0;
	transition: opacity var(--transition-linear-medium) 0.1s, translate var(--transition-ease-medium) 0.1s;
}

a:has(.icon.arrow) .text {
	padding-right: 1.75rem;
	transition: padding var(--transition-ease-slow);
}

a:has(.icon.arrow):is(:hover, :focus-visible) .text {
	padding-right: 0;
}




/*
** HTML & BODY
------------------------------*/

html {
	height: 100%;
	scroll-behavior: smooth;
	background-color: var(--colour-background);
}

@media (prefers-reduced-motion) {
	html {
		scroll-behavior: auto;
	}
}

body {
	container: body / inline-size;

	display: grid;
	grid-template-rows: auto 1fr auto;
	background-color: var(--theme-bkgColour-subtlePrimary);
	background-image: var(--theme-pattern);
	width: 100%;
	color: var(--colour-ui-neutral);
}

@media (prefers-contrast: more) {
	body {
		background-image: none;
	}
}




/*
** MAIN
------------------------------*/

main {
	display: grid;
	grid-template-columns: 1fr minmax(600px, 900px) 1fr;
	grid-template-rows: 1fr;
	grid-template-areas:
		"section-nav content on-page-nav";
}

main:has(.assessment-controls) {
	grid-template-rows: auto 1fr;
	grid-template-areas:
		"toolbar toolbar toolbar"
		"section-nav content on-page-nav";
}

.assessment-controls {
	grid-area: toolbar;
}

.section-nav-container {
	grid-area: section-nav;
	margin: 0 5rem 0 0;
	padding: 2rem;
	border-right: 1px solid var(--colour-border-neutral-subtle-muted);
}

.on-page-nav-container {
	grid-area: on-page-nav;
	padding: 3rem;
}

nav.on-page {
	position: sticky;
	top: 3rem;
}

.content {
	grid-area: content;
	padding: 5rem 0;
}





/*
** RESTRICTIONS
------------------------------*/

main:not([data-mode="assessment"]) [data-restrict-mode="assessment"] {
	display: none !important;
}

main:not([data-mode="reading"]) [data-restrict-mode="reading"] {
	display: none !important;
}

main:not([data-status="complete"]) [data-restrict-status="complete"] {
	display: none !important;
}

main:not([data-status="in-progress"]) [data-restrict-status="in-progress"] {
	display: none !important;
}

main:not([data-assessor="true"]) [data-restrict-assessor="true"] {
	display: none !important;
}

main:not([data-assessor="false"]) [data-restrict-assessor="false"] {
	display: none !important;
}


/*
** SECTIONS
------------------------------*/

:is(article, section, aside, nav, div, figure, dialog, form, fieldset)> :first-child {
	margin-top: 0 !important;
}

:is(article, section, aside, nav, div, figure, dialog, form, fieldset)> :last-child {
	margin-bottom: 0 !important;
}



/*
** NAVIGATION
------------------------------*/


nav.on-page li {
	line-height: 1.2;
}

nav.on-page a {
	font-size: 1rem;
}

nav a {
	user-select: none;
}

[data-mode="assessment"] nav.on-page {
	top: calc(3.75rem + 3rem);
}


/*
** HEADINGS (SPECIAL)
------------------------------*/

h2:has(.tag) {
	display: flex;
	flex-flow: row nowrap;
	gap: 1rem;
	align-items: start;
}

h2 .tag {
	display: flex;
	align-items: center;
	height: 1.75rem;
	padding: 0 0.5rem;
	margin: 0.25rem 0;
	background-color: var(--colour-fill-accent-subtle-muted);
	border-radius: var(--border-radius-small);
	font-size: 1.25rem;
	line-height: 1;
	color: var(--colour-ui-accent);
}

h3:has(> .icon) {
	--icon-colour: var(--colour-ui-accent);
	--icon-size: 1.5rem;
	display: flex;
	flex-flow: row nowrap;
	gap: 0.5rem;
	align-items: center;
	position: relative;
}

h3:has(> .icon)::after {
	content: "";
	height: 2px;
	background-color: var(--colour-border-neutral-subtle-muted);
	position: absolute;
	top: calc(0.75rem - 1px);
	left: 7rem;
	right: 0;
}


/*
** FORMS
------------------------------*/

form {
	display: flex;
	flex-flow: column;
	gap: 1.25rem;
}

form[data-fit="compact"] {
	gap: 0.5rem;
}

form fieldset {
	margin: 0;
	padding: 0;
	border: none;
}

form :is(label, legend) {
	display: block;
	font-size: 1.25rem;
	font-weight: 600;
	margin: 0 0 0.5rem;
}

form .error {
	--icon-size: 1rem;
	--icon-colour: var(--colour-ui-error);
	display: flex;
	flex-flow: row nowrap;
	align-items: center;
	gap: 0.5rem;
	margin: 0.5rem 0 0;
	font-size: 0.875rem;
	color: var(--colour-ui-error);
}

/* RADIO INPUTS */

form .radio-group {
	display: flex;
	flex-flow: row;
	align-items: center;
	gap: 0.5rem;
	margin: 0.5rem 0;
}

/* Refine radio styles, not sure about the very bold always outline, kind of wish I could use gray-muted-400 */

form .radio-container {
	display: inline-grid;
	grid-auto-flow: column;
	align-items: center;
	height: 2.5rem;
	padding: 0;
	outline: 2px solid var(--container-outline-colour, transparent);
	outline-offset: -1px;
	border-radius: var(--border-radius-normal);
	background-color: var(--container-background-colour, transparent);
	position: relative;
}

form .radio-container[data-theme]:has(input:checked) {
	outline: 2px solid var(--container-outline-colour, var(--colour-border-accent-bold-vivid));
	background-color: var(--container-background-colour, var(--colour-fill-accent-subtle-vivid));
}

form .radio-container:has(input:checked) {
	outline-color: var(--container-outline-colour, var(--colour-border-neutral-bold-muted));
}

/* Selects the none checked input for hover state */
form .radio-container:not(:has(input:checked)):is(:hover, :focus-visible) {
	background-color: var(--colour-fill-accent-subtle-vivid, var(--colour-fill-neutral-subtle-muted));
}

form .radio-container label {
	display: inline-flex;
	align-items: center;
	font-size: 1rem;
	font-weight: 400;
	line-height: 1;
	height: 100%;
	margin: 0;
	padding: 0 0.75rem 0 0;
	cursor: pointer;
}

form .radio-container input[type="radio"] {
	appearance: none;
	height: 2.5rem;
	width: 2.25rem;
	opacity: 0;
	z-index: 0;
	cursor: pointer;
}

form .radio-container::before {
	content: "";
	position: absolute;
	left: 0.625rem;
	height: 1rem;
	width: 1rem;
	background-color: var(--colour-background);
	border: 2px solid var(--colour-border-neutral-bold-muted);
	border-radius: 100rem;
	pointer-events: none;
	z-index: 1;
	transition: border-color var(--transition-linear-fast);
}

form .radio-container:is(:hover, :focus-visible, :has(input:checked))::before {
	border-color: var(--colour-border-accent-bold-vivid, var(--colour-border-neutral-bold-muted));
}

form .radio-container:has(input:checked)::after {
	content: "";
	position: absolute;
	left: 0.875rem;
	height: 0.5rem;
	width: 0.5rem;
	background-color: var(--colour-fill-accent-bold-vivid, var(--colour-fill-neutral-mid-muted));
	border-radius: 100rem;
	pointer-events: none;
	z-index: 2;
}


/* TEXT AND SELECT INPUTS */

.input-container,
.select-container,
[data-style-as="input-container"] {
	display: flex;
	flex-flow: row nowrap;
	align-items: center;
	position: relative;
	border-radius: var(--border-radius-normal);
	border: 2px solid var(--colour-border-neutral-subtle-muted);
	width: 100%;
	height: 3rem;
	padding: 0;
	margin: 0;
}

:is(.input-container,
.select-container,
[data-style-as="input-container"]):has(:is(input, select)[aria-invalid="true"]) {
	border-color: var(--colour-ui-error);
}

input[type="text"],
select,
[data-style-as="input"] {
	display: flex;
	align-items: center;
	appearance: none;
	border: none;
	background: none;
	height: 100%;
	min-width: 0;
	/* Fixed text-overflow inside flex item */
	padding: 0 1rem;
	margin: 0;
	flex-grow: 1;
	font-size: 1rem;
	line-height: 1.2;
}

input[type="text"]::placeholder {
	color: var(--colour-ui-neutral-subtle);
}

.url-container {
	color: var(--colour-ui-neutral-subtle);
}

.url-container .url span {
	overflow: hidden;
	text-overflow: ellipsis;
	white-space: nowrap;
}

.select-container .icon {
	width: 1.25rem;
	position: absolute;
	top: 0.75rem;
	right: 0.75rem;
}

:is(.input-container, .url-container) button {
	--icon-size: 1rem;
	margin-right: 0.25rem;
}

:is(.input-container, .url-container) button:is(:hover, :focus-visible) {
	--icon-colour: var(--colour-ui-reverse);
	--label-colour: var(--colour-ui-reverse);
}

form > :is(.button-group, button):last-of-type {
	margin: 0.5rem 0 0;
}

/* CUSTOM VALUE LIST */

form ul[data-field] {
	display: flex;
	flex-flow: row wrap;
	align-items: center;
	gap: 0.5rem;
	padding: 0;
	margin: 0.5rem 0;
	list-style-type: none;
}

form ul[data-field] button {
	--icon-size: 1rem;
}

form ul[data-field] button:is(:hover, :focus-visible) {
	--icon-colour: var(--colour-ui-reverse);
	--label-colour: var(--colour-ui-reverse);
}


/*
** CALLOUT BOXES
------------------------------*/

.callout {
	border-radius: var(--border-radius-normal);
	padding: 2rem;
	margin: 2.5rem 0;
	width: fit-content;
}

.callout[data-fit="compact"] {
	padding: 1.25rem;
}

.callout[data-fit="compact"][data-style="shading"]:has(.icon-container) {
	column-gap: 1.25rem;
}

.callout .heading {
	font-weight: 700;
}

.callout .heading:has(.icon) {
	--icon-colour: var(--colour-ui-accent);
	--icon-size: 1.5rem;
	display: flex;
	align-items: center;
	gap: 0.75rem;
}

.callout[data-fit="compact"] :where(p, li, a) {
	font-size: 1rem;
	line-height: 1.4;
}

.callout[data-style="shading"] {
	background-color: var(--colour-fill-accent-subtle-muted, --colour-fill-neutral-subtle-muted);
}

.callout[data-style="shading"]:has(.icon-container) {
	--icon-size: 1.5rem;
	display: flex;
	flex-flow: row nowrap;
	align-items: center;
	column-gap: 1.5rem;
}

.callout[data-style="shading"][data-vibrancy="vivid"] {
	background-color: var(--colour-fill-accent-subtle-vivid, --colour-fill-neutral-subtle-vivid);
}

.callout[data-style="outline"] {
	display: flex;
	flex-flow: column nowrap;
	align-items: center;
	padding: 3rem;
	border: 2px solid var(--colour-border-neutral-subtle-muted);
	position: relative;
}

.callout[data-style="outline"][data-on-path-elem="heading"] .heading {
	position: absolute;
	top: -0.5rem;
	padding: 0 1.5rem;
	background-color: var(--colour-background);
	font-size: 1rem;
	font-weight: 700;
	text-transform: uppercase;
	line-height: 1;
	color: var(--colour-ui-accent);
}

.callout[data-style="outline"] p {
	font-size: 1.25rem;
	font-weight: 600;
	line-height: 1.5;
	text-align: center;
}




/*
** CARDS
------------------------------*/

.card-group {
	container: card-group / inline-size;
	display: grid;
	grid-template-columns: repeat(2, 1fr);
	gap: 1rem;
	list-style-type: none;
	padding: 0;
	margin: 0;
}

.card-group:has(.card:only-child) .card {
	grid-column: span 2;
}

.card-group:has(.card:nth-last-child(n + 3)) .card {
	grid-column: span 2;
}

.card {
	container: card / inline-size;
	display: flex;
	flex-flow: column;
	border: 2px solid var(--colour-border-neutral-subtle-muted);
	border-radius: var(--border-radius-normal);
}

.card .banner {
	padding: 0 1.25rem;
	display: flex;
	align-items: center;
	font-size: 0.875rem;
	font-weight: 600;
	color: var(--colour-ui-accent-subtle);
	background-color: var(--colour-fill-accent-subtle-vivid);
	border-radius: var(--border-radius-normal) var(--border-radius-normal) 0 0;
	height: 2rem;
}

.card .wrapper {
	display: grid;
	grid-template-columns: 1fr;
	grid-auto-rows: auto 1fr;
	column-gap: 1.25rem;
	row-gap: 1.25rem;
	padding: 1.25rem;
	flex-grow: 1;
}

.card .wrapper:has(> button) {
	grid-auto-rows: auto auto 1fr;
}

.card .wrapper>.heading {
	/* .icon-and-label-container styles */
	--icon-size: 1.25rem;
	--label-size: 1.25rem;
	--label-weight: 600;
	gap: 0.75rem;

	font-size: 1.25rem;
	font-weight: 600;
	margin: 0;
	padding: 0 0 0.5rem;
	border-bottom: 2px solid var(--colour-border-neutral-subtle-muted);

	/* TODO: Ellipsis hide headings over two lines? */

}

.card .wrapper>button {
	place-self: end start;
	width: 100%;
}

@container card (max-width: 300px) {

	.card dt.date-created + dd .time {
		display: none;
	}

	.card dt:is(.date-modified, .date-exported) + dd .year {
		display: none;
	}

}

@container card (min-width: 460px) {
	.card>.wrapper {
		grid-template-columns: 1fr auto;
		grid-template-rows: auto auto;
		row-gap: 0.75rem;
	}

	.card .heading {
		grid-column: span 2;
	}

	.card button {
		place-self: end;
	}
}


/*
** DETAIL LISTS
------------------------------*/

dl {
	display: flex;
	flex-flow: column;
	gap: 0.75rem;
	margin: 1.75rem 0;
	line-height: 1.2;
}

dl :is(dt, dd) {
	font-size: 1rem;
}

dl[data-fit="compact"] {
	gap: 0.5rem;
	margin: 0.5rem 0;
}

dl[data-fit="compact"] :is(dt, dd) {
	font-size: 0.875rem;
}

.detail-container {
	display: flex;
	flex-flow: row;
	align-items: center;
	gap: 0.5rem;
}

dl dt {
	font-weight: 600;
}

dl dd {
	margin: 0;
	color: var(--colour-ui-neutral-subtle);
}


/*
** LABEL CONTAINER
------------------------------*/

.label-group {
	display: flex;
	flex-flow: row wrap;
	align-items: center;
	gap: 0.5rem;
}

.label-container {
	display: inline-flex;
	align-items: center;
	font-size: var(--label-size, 0.875rem);
	font-weight: var(--label-weight, 600);
	color: var(--label-colour, var(--colour-ui-neutral));
	line-height: 1.2;
	transition: color var(--transition-linear-fast);
}

.label-container:is([data-style="shading"], [data-style="outline"], [data-style="shading-and-outline"]) {
	--label-colour: var(--colour-ui-accent, var(--colour-ui-neutral));
	height: 1.75rem;
	padding: 0 0.5rem;
	border-radius: var(--label-border-radius, var(--border-radius-small));
}

.label-container[data-style="shading"] {
	background-color: var(--colour-fill-accent-subtle-vivid, var(--colour-fill-neutral-subtle-muted));
}

.callout[data-style="shading"] .label-container[data-style="shading"] {
	background-color: var(--colour-background);
}

.label-container[data-style="outline"]{
	background-color: transparent;
	border: 1px solid var(--colour-border-accent-bold-vivid, var(--colour-border-neutral-bold-muted));
}

.label-container[data-style="shading-and-outline"] {
	background-color: var(--colour-fill-accent-subtle-vivid, var(--colour-fill-neutral-subtle-muted));
	border: 1px solid var(--colour-border-accent-bold-vivid, var(--colour-border-neutral-bold-muted));
}

.label-container[data-restrict-length] .label {
	overflow: hidden;
	text-overflow: ellipsis;
	white-space: nowrap;
	max-width: 14rem;
}

.label-container.export-status {
	--label-weight: 400;
	--label-colour: var(--colour-ui-accent, var(--colour-ui-neutral));
}


/*
** ICON AND LABEL CONTAINER
------------------------------*/

.icon-and-label-container {
	display: flex;
	flex-flow: row nowrap;
	align-items: center;
	flex-shrink: 0;
	gap: var(--container-gap, 0.5rem);
	background-color: var(--container-background-colour, transparent);
	border-radius: var(--container-border-radius, 0);
	padding: var(--container-padding, 0);
	transition:
		background-color var(--transition-linear-fast),
		padding var(--transition-ease-medium);
}

.icon-and-label-container[data-collapsible] {
	gap: 0;
	padding-right: 0;
	pointer-events: auto;
}

@media (prefers-reduced-motion) {
	.icon-and-label-container[data-collapsible] {
		transition: background-color var(--transition-linear-fast);
	}
}

.icon-and-label-container[data-collapsible]:is(:hover, :focus-visible) {
	padding-right: var(--container-padding, 0);
}

.icon-and-label-container[data-collapsible] .label-container {
	display: grid;
	grid-template-columns: 0fr;
	opacity: 0;
	white-space: nowrap;
	transition: opacity var(--transition-linear-medium), grid-template-columns var(--transition-ease-medium);
}

@media (prefers-reduced-motion) {
	.icon-and-label-container[data-collapsible] .label-container {
		transition: opacity var(--transition-linear-medium);
	}
}

.icon-and-label-container[data-collapsible]:is(:hover, :focus-visible) .label-container {
	grid-template-columns: 1fr;
	opacity: 1;
}

.icon-and-label-container[data-collapsible] .label-container .label {
	display: inline-block;
	overflow: hidden;
	transition: padding var(--transition-ease-medium);
}

.icon-and-label-container[data-collapsible]:is(:hover, :focus-visible) .label-container .label {
	padding-left: 0.5rem;
}


/*
** MEDIA
------------------------------*/

svg {
	pointer-events: none;
}

.icon {
	width: var(--icon-size, 1.5rem);
	flex-shrink: 0;
}

.icon path {
	fill: var(--icon-colour, var(--colour-ui-neutral));
	transition: fill var(--transition-linear-fast);
}




/*
** MISC
------------------------------*/

hr {
	height: 1px;
	margin: 4rem 0;
	background-color: var(--colour-border-neutral-subtle-muted);
	border: none;
}




/*
** STATES
------------------------------*/

[hidden] {
	pointer-events: none !important;
	display: none !important;
}

:focus-visible {
	outline: var(--theme-outlineColour) solid 2px;
	outline-offset: 2px;
}